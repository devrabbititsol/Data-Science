{
    "collab_server" : "",
    "contents" : "# Dataset<-reactive({\n#   inFile <- input$file1\n#  if (is.null(inFile))\n#     return(NULL)\n#   data2 <- read.csv2(inFile$datapath)\n#   })\n# \n  \nserver <- function(input, output) {\n#   observe({\n#     x<-input$sty \n#     # print(x)\n#     \n# if(x==\"Monthly_Report\")\n# {\n    \n  output$grosss_sales<- renderValueBox({\n    inFile <- input$file1\n    if (is.null(inFile))\n      return(NULL)\n    data2 <- as.data.frame(read.csv(inFile$datapath))\n    # assign(\"data2\",\"new\",envir = .GlobalEnv)\n    valueBox(\n      paste(sum(data2$Gross_Sale )), \"Net Amount\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"orange\"\n    )\n  })\n  \n  output$cash <- renderValueBox({\n    inFile <- input$file1\n    if (is.null(inFile))\n      return(NULL)\n    data2 <- as.data.frame(read.csv(inFile$datapath))\n    # assign(\"data2\",\"new\",envir = .GlobalEnv)\n    valueBox(\n      paste(sum(data2$Cash )), \"Cash\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"red\"\n    )\n  })\n  \n  \n  output$credit_card <- renderValueBox({\n    inFile <- input$file1\n    if (is.null(inFile))\n      return(NULL)\n    data2 <- as.data.frame(read.csv(inFile$datapath))\n    # assign(\"data2\",\"new\",envir = .GlobalEnv)\n    valueBox(\n      paste(sum(data2$Credit_Card )), \"Credit Card\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"navy\"\n    )\n  })\n  output$tax <- renderValueBox({\n    inFile <- input$file1\n    if (is.null(inFile))\n      return(NULL)\n    data2 <- as.data.frame(read.csv(inFile$datapath))\n    tax1<-(sum(data2$Sale_Including_Tax)-sum(data2$Net_Sale_Excluding_Tax))\n    valueBox(\n      paste(tax1), \"Tax\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"navy\"\n    )\n  })\n  \n  output$Day_sales_jan<- renderGvis({\n    inFile <- input$file1\n    if (is.null(inFile))\n      return(NULL)\n    data2 <- as.data.frame(read.csv(inFile$datapath))\n    # assign(\"data2\",\"new\",envir = .GlobalEnv)\n    Gross_sales<-data2$Gross_Sale\n    Date<-data2$Date\n        Total_sales<-data.frame(Date,Gross_sales)\n        totalsales<-gvisAreaChart(Total_sales,options=list(colors=\"['0099CC','CCFFCC','#BA4A00']\"))\n    \n    return(totalsales)\n    \n  })\n  output$last5days_sales<- renderGvis({\n    inFile <- input$file1\n    if (is.null(inFile))\n      return(NULL)\n    data2 <- as.data.frame(read.csv(inFile$datapath))\n    # assign(\"data2\",\"new\",envir = .GlobalEnv)\n    data3<-tail(data2)\n    Gross_sales<-data3$Gross_Sale\n    Date<-data3$Date\n    Total_sales<-data.frame(Date,Gross_sales)\n    totalsales<-gvisColumnChart(Total_sales,options=list(colors=\"['0199CC','AAAAAC','#F#4A00']\"))\n    \n    return(totalsales)\n    \n  })\n  \n# } \n  # if(x==\"Day_Report\")\n  # {\n    output$Top_Item<- renderValueBox({\n      inFile <- input$file1\n      if (is.null(inFile))\n        return(NULL)\n      daydata <- as.data.frame(read.csv(inFile$datapath))\n      # assign(\"data2\",\"new\",envir = .GlobalEnv)\n      valueBox(\n        paste(round(max(daydata$TOTAL,0))), \"Top Item\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n        color = \"orange\"\n      )\n    })\n    output$item_sales<- renderPlotly({\n      inFile <- input$file1\n      if (is.null(inFile))\n        return(NULL)\n      daydata <- as.data.frame(read.csv(inFile$datapath))\n      # assign(\"data2\",\"new\",envir = .GlobalEnv)\n      \n    # highchart() %>%\n    #   hc_chart(type = \"\") %>%\n    #   hc_xAxis(categories=daydata$ITEMNAME) %>%\n    #   hc_add_series(name = \"AHV_2012\", data =daydata$TOTAL) %>%\n    #   hc_add_series(name = \"AHV_2013\", data = daydata$TAX_AMT) \n      ITEMNAME<-as.list(daydata$ITEMNAME)\n      TOTAL<-as.list(daydata$TOTAL)\n      TAX_AMT<-as.list(daydata$TAX_AMT)\n      \n      p<-plot_ly(daydata, x = ~ITEMNAME) %>%\n        \n        add_bars(y=~TOTAL, name = \"item_sale\", visible = T) %>%\n        add_bars(y=~TAX_AMT, name = \"item_tax\", visible = T)\n      return(p)\n      \n    })\n    output$item_qty<- renderPlotly({\n      inFile <- input$file1\n      if (is.null(inFile))\n        return(NULL)\n      daydata <- as.data.frame(read.csv(inFile$datapath))\n      # assign(\"data2\",\"new\",envir = .GlobalEnv)\n      \n      # highchart() %>%\n      #   hc_chart(type = \"\") %>%\n      #   hc_xAxis(categories=daydata$ITEMNAME) %>%\n      #   hc_add_series(name = \"AHV_2012\", data =daydata$TOTAL) %>%\n      #   hc_add_series(name = \"AHV_2013\", data = daydata$TAX_AMT) \n      ITEMNAME<-as.list(daydata$ITEMNAME)\n      TAX_AMT<-as.list(daydata$QTY)\n      \n      p<-plot_ly(daydata, x = ~ITEMNAME) %>%\n        \n        add_lines(y=~QTY, name = \"item_QTY\", visible = T)\n      return(p)\n      \n    })\n    \n    \n      # }\n  \n}",
    "created" : 1491105426969.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2982114168",
    "id" : "F33C1059",
    "lastKnownWriteTime" : 1491151831,
    "last_content_update" : 1491151831380,
    "path" : "C:/Users/ADMIN/Desktop/Restaurent_POC/server.R",
    "project_path" : "server.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}