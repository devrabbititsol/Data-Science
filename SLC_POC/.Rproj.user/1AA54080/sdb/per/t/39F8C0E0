{
    "collab_server" : "",
    "contents" : "\nlibrary(shinydashboard)\nlibrary(shiny)\nlibrary(googleVis)\nlibrary(dplyr)\nlibrary(lubridate)\nlibrary(DT)\nlibrary(readr)\nlibrary(ggplot2)\n\n\n\n\nserver <- function(input, output) {\n  \n  ##plot for monthly sales analysis\n  output$monthly_sales_graph <- renderGvis({\n    msales<- select(daywisesales,day,sales)\n    msalechart<-gvisLineChart(msales,xvar=\"day\",yvar=\"sales\")\n    return(msalechart)\n    \n  })\n  ##plot for yearly sales analysis\n  output$Yearly_sales_graph <- renderGvis({\n    ysales<- select(ysalesval,Month,Sales)\n    ysalechart<-gvisColumnChart(ysales,xvar=\"Month\",yvar=\"Sales\",options=list(colors=\"['#008000']\"))\n    \n    return(ysalechart)\n    \n  })\n  ##plot for revenue by category\n  output$rvcgraph <- renderGvis({\n    crvalue<- select(Rbycatval,category_id,Revenue)\n    crchart<-gvisLineChart(crvalue,xvar=\"category_id\",yvar=\"Revenue\",options=list(colors=\"['#008000']\"))\n    \n    return(crchart)\n    \n  })\n  ##plot for monthly wise sales by lcoation\n  output$sales_Location_graph <- renderGvis({\n    \n    mlocsales <- msalelocval \n    msaleloc <- na.omit(mlocsales) \n    mgeostate <- gvisGeoChart(msaleloc,\"Location\",\"Revenue\",options=list(region=\"US\",displayMode=\"regions\",resolution=\"provinces\"))\n    return(mgeostate)\n    \n  })\n  ##plot for yearly wise sales by lcoation\n  output$sales_Location_graph_Year <- renderGvis({\n    \n    ylocsales <- ysalelocvaly \n    ysaleloc <- na.omit(ylocsales) \n    ygeostate <- gvisGeoChart(ysaleloc,\"Location\",\"Revenue\",options=list(region=\"US\",displayMode=\"regions\",resolution=\"provinces\"))\n    return(ygeostate)\n    \n  })\n  ##plot for a month sales in all the years\n  output$Month_sales_graph_everyYear <- renderGvis({\n    marchrevenue<- select(RevenueMarchVal,Revenue,Year)\n    marchchart<-gvisColumnChart(marchrevenue,xvar = \"Year\",yvar = \"Revenue\",options=list(colors=\"['#008000']\"))\n    \n    return(marchchart)\n    \n  })\n  ##plot for revenue genrted in all the years\n  output$year_wise_revenue<- renderGvis({\n    yRsales<- select(yRevenue,Year,Revenue)\n    yRsalechart<-gvisColumnChart(yRsales,xvar = \"Year\",yvar = \"Revenue\",options=list(colors=\"['#008000']\"))\n    return(yRsalechart)\n    \n  })\n  ##plot for Qty sold by lcoation in a month\n  output$mQty_Sold_loc<- renderGvis({\n    # ilsales<- select(InventsalesbyRegion,Revenue,Location)\n    mInventorysalesbyRegion <- mIsalesbyRegion\n    milsales <- na.omit(mInventorysalesbyRegion)\n    milgeostate <- gvisGeoChart(milsales,\"Location\",\"QuantityOrdered\",options=list(region=\"US\",displayMode=\"regions\",resolution=\"provinces\"))\n    return(milgeostate)\n    \n  })\n  ##plot for Qty sold by lcoation in a year\n  output$YQty_Sold_loc<- renderGvis({\n    # ilsales<- select(InventsalesbyRegion,Revenue,Location)\n    yInventorysalesbyRegion <- yIsalesbyRegion\n    yilsales <- na.omit(yInventorysalesbyRegion)\n    yilgeostate <- gvisGeoChart(yilsales,\"Location\",\"QuantityOrdered\",options=list(region=\"US\",displayMode=\"regions\",resolution=\"provinces\"))\n    return(yilgeostate)\n    \n  })\n  ##plot for sales and Pricing in a year\n  output$ysalespricing<- renderGvis({\n    yunitssoldandship<- select(ysupplychainval,Month,UnitsOrdered,UnitsShipped)\n    \n    Month<-ysupplychainval$Month\n    UnitsSold<-ysupplychainval$UnitsOrdered\n    UnitsShipped<-ysupplychainval$UnitsShipped\n    ydf<-data.frame(Month,UnitsSold,UnitsShipped)\n    # unitssell<-gvisComboChart(unitssoldandship,xvar=\"UnitsOrderd\",yvar=\"UnitsShipped\")\n    yunitssell<-gvisColumnChart(ydf)\n    \n    return(yunitssell)\n    \n  })\n  ######\n  ##plot for sales and Pricing in a month\n  output$msalespricing<- renderGvis({\n    munitssoldandship<- select(msupplychainval,Day,UnitsOrdered,UnitsShipped)\n    Day<-msupplychainval$Day\n    UnitsSold<-msupplychainval$UnitsOrdered\n    UnitsShipped<-msupplychainval$UnitsShipped\n    mdf<-data.frame(Day,UnitsSold,UnitsShipped)\n    # unitssell<-gvisComboChart(unitssoldandship,xvar=\"UnitsOrderd\",yvar=\"UnitsShipped\")\n    munitssell<-gvisColumnChart(mdf)\n    \n    return(munitssell)\n    \n  })\n  \n  ##revenue generated for a month\n  output$mrevenue <- renderValueBox({\n    valueBox(\n      paste(round(mRevenueval/1000000,2),\"M\" ), \"Revenue\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"orange\"\n    )\n  })\n  ##revenue generated for a year\n  output$yrevenue <- renderValueBox({\n    valueBox(\n      paste(round(yRevenueval/1000000,2),\"M\" ), \"Revenue\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"orange\"\n    )\n  })\n  ##average order value for a month\n  output$mavg_order <- renderValueBox({\n    valueBox(\n      paste(round(mAvg_Value,2),\"$\"), \"AverageOrderValue\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"fuchsia\"\n    )\n    \n  })\n  ##average order value for a year\n  output$yavg_order <- renderValueBox({\n    valueBox(\n      paste(round(YAvg_Value,2),\"$\"), \"AverageOrderValue\", icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"fuchsia\"\n    )\n    \n  })\n  ##returning customers in a month\n  output$mrecustomers <- renderValueBox({\n    valueBox(\n      paste(mRepeatVal), \"returning customers\", icon = icon(\"glyphicon glyphicon-scale\",lib=\"glyphicon\"),\n      color = \"teal\"\n    )\n    \n  })\n  ###returning customers in a year\n  output$yrecustomers <- renderValueBox({\n    valueBox(\n      paste(yRepeatVal), \"returning customers\", icon = icon(\"glyphicon glyphicon-scale\",lib=\"glyphicon\"),\n      color = \"teal\"\n    )\n    \n  })\n  ##Ecomerce ratio for a month\n  output$mEratio <- renderInfoBox({\n    infoBox(\n      \"Ecommerce Conversion Ratio\",paste(round(mERatio,4),\"%\"),\n      color = \"purple\",fill = TRUE,icon = icon(\"credit-card\")\n    )\n    \n  })\n  ##Ecomerce ratio for a year\n  output$yEratio <- renderInfoBox({\n    infoBox(\n      \"Ecommerce Conversion Ratio\",paste(round(yERatio,4),\"%\"),\n      color = \"purple\",fill = TRUE,icon = icon(\"credit-card\")\n    )\n    \n  })\n  ##AverageInventory for a month\n  output$minventory <- renderInfoBox({\n    infoBox(\n      \" Averge Inventory\", paste( 254.4808,\"K\"),icon=icon(\"tree\"),\n      color = \"blue\",fill = TRUE\n    )\n  })\n  ##AverageInventory for a year\n  output$yinventory <- renderInfoBox({\n    infoBox(\n      \" Averge Inventory\", paste( 254.4808,\"K\"),icon=icon(\"tree\"),\n      color = \"blue\",fill = TRUE\n    )\n  })\n  ##top product in a month by sales\n  output$mtopproduct<- renderInfoBox({\n    infoBox(\n      \" TopProduct )\",paste(maxQty/1000,\"K\"),icon=icon(\"glyphicon glyphicon-apple\",lib=\"glyphicon\"),\n      color = \"red\",fill = TRUE\n    )\n  })\n  ##top product in a year by sales\n  output$ytopproduct<- renderInfoBox({\n    infoBox(\n      \" TopProduct \",paste(ymaxQty/1000,\"K\"),icon=icon(\"glyphicon glyphicon-apple\",lib=\"glyphicon\"),\n      color = \"red\",fill = TRUE\n    )\n  })\n \n  ##Inventory tunrnover for a year\n  output$miturn<- renderInfoBox({\n    infoBox(\n      \"Inventory Turnover\",paste(round(inventurnover/254480.8,2)),icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"green\",fill = TRUE\n    )\n  })\n  ##Inventory tunrnover for a year\n  output$yiturn<- renderInfoBox({\n    infoBox(\n      \"Inventory Turnover\",paste(round(inventurnover/254480.8,2)),icon = icon(\"glyphicon glyphicon-usd\",lib=\"glyphicon\"),\n      color = \"green\",fill = TRUE\n    )\n  })\n###Units per transactions in a month\n  output$munits <- renderValueBox({\n  infoBox(\n    \"U/T\",paste(round(munitspertransaction,3)),  icon = icon(\"thumbs-up\", lib = \"glyphicon\"),\n    color = \"orange\",fill=TRUE\n  )\n})\n  ###Units per transactions in a month\n  output$yunits <- renderValueBox({\n    infoBox(\n      \"U/T\",paste(round(yunitspertransaction),3),  icon = icon(\"thumbs-up\", lib = \"glyphicon\"),\n      color = \"orange\",fill=TRUE\n    )\n  })\n}",
    "created" : 1486969859763.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1946537209",
    "id" : "39F8C0E0",
    "lastKnownWriteTime" : 1487603592,
    "last_content_update" : 1487603592725,
    "path" : "F:/ShineyWorkSpace/SLC_POC/server.R",
    "project_path" : "server.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}